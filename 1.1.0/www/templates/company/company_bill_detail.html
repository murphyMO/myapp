<ion-view view-title="单个订单详情" ng-controller="CompanyBillDetailCtrl">
	<ion-header-bar align-title="center" class="bar-light">
		<div class="item-input-inset" ng-click="myBack()">
			<span>
				<i class="ion-chevron-left color-blue"></i>
			</span>
		</div>
		 <h1 class="title fontsize-16 color-black">账单详情</h1>
	</ion-header-bar>

	<ion-content class="has-header bg-white">
		<div class="b-t-none bg-dark">
			<p class="item">
				订单号：{{order.order_info.order_sn}}
				<span class="text-right xkd-text-danger pull-right">{{order.order_info.status_text}}</span>
			</p>
			<p class="item" style="white-space: normal;">
				交易流水号：{{order.order_info.trade_no}}
			</p>

			<!-- <div class="b-t-none dark text-center">
				<label class="item item-input">
					<span class="input-label" aria-label="订单号" id="_label-8">订单号</span>
					<span class="ng-binding">{{item.charge_id}}</span>
					<span class="text-right xkd-text-danger" style="margin-left: 150px;">{{item.status_text}}</span>
				</label>
			</div>
			<div class="b-t-none dark text-center" style="word-wrap:break-word;word-break:break-all;">
				<label class="item item-input">
					<span class="input-label" aria-label="流水号" id="_label-8">交易流水号</span>
					<span class="ng-binding">{{item.trade_no}}</span>
				</label>
			</div> -->
			<div class="item m-b-10 m-t-10" ng-repeat="orderItem in order.order_items">
					<div class="item item-text-wrap" style="border: none;padding: 2px">
						<h2><b>{{orderItem.capacity}}人{{orderItem.room_type_text}}-{{orderItem.store_name}}{{orderItem.meeting_room_name}}</b>
						<span class="fontsize-18 xkd-text-orange" style="float:right;">&yen;{{orderItem.unit_price}}</span>
						</h2>
						<p><i class="icon ion-ios-location-outline"></i>{{orderItem.store_address}}</p>
						<p>时间：{{orderItem.reserve_time_from}}--{{orderItem.reserve_time_to}}</p>
						<p ng-if="orderItem.room_type == 1"">单价：{{orderItem.unit_price}}元/小时</p>
						<p ng-if="orderItem.room_type == 2">单价：
							<span ng-if="orderItem.fourHoursAgoPrice == orderItem.fourHoursAfterPrice">{{orderItem.fourHoursAgoPrice}}元/小时</span>
							<span ng-if="orderItem.fourHoursAgoPrice != orderItem.fourHoursAfterPrice">{{orderItem.unit_price}}元/小时</span>
						</p>
						<p ng-if="orderItem.room_type == 2 && orderItem.fourHoursAgoPrice != orderItem.fourHoursAfterPrice">
							单价说明：四小时内{{orderItem.fourHoursAgoPrice}}元/小时 四小时后{{orderItem.fourHoursAfterPrice}}元/小时
						</p>
						<p>数量：{{orderItem.amount}}</p>
						<p>备注：{{orderItem.comments}}</p>
					</div>

			</div>
			<div class="b-t-none dark text-center">
				<label class="bg-white item-input">
					<div class="input-label text-left" aria-label="企业名称" id="_label-8" style="display:inline-block;">商品总额</div>
					<div class="ng-binding text-right xkd-text-danger padding-r-10" style="display:inline-block; width:70%">￥{{order.order_info.to_pay_original}}</div>
				</label>
			</div>
			<div class="b-t-none dark text-center">
				<label class="bg-white item-input">
					<div class="input-label text-left" aria-label="企业名称" id="_label-8"  style="display:inline-block;">押金</div>
					<div class="ng-binding text-right xkd-text-danger padding-r-10" style="display:inline-block; width:70%">+￥{{order.order_info.deposit_to_pay}}</div>
				</label>
			</div>
			<div class="b-t-none dark text-center">
				<label class="bg-white item-input">
					<div class="input-label text-left" aria-label="企业名称" id="_label-8" style="display:inline-block;">优惠</div>
					<div class="ng-binding text-right xkd-text-danger padding-r-10" style="display:inline-block; width:70%">-￥0.00</div>
				</label>
			</div>
			<div class="bg-white text-right m-b-10 padding-5">
				<p><b class="fontsize-18">实付款: <span class="xkd-text-danger">￥{{order.order_info.to_pay}}</span> </b></p>
				<p><span class="fontsize-9">下单时间：{{order.order_info.cre_time}}</span></p>
			</div>
			<div class="b-t-none dark text-center" ng-if="order.order_info.status == 8">
				<label class="bg-white item-input">
					<div class="input-label text-left" aria-label="企业名称" id="_label-8" style="display:inline-block;">已退款</div>
					<div class="ng-binding text-right xkd-text-danger padding-r-10" style="display:inline-block; width:70%">￥{{order.order_info.refund_data.refund_amount}}</div>
				</label>
			</div>
		</div>
		<div class="bg-light padding-t-5">
			<div class="checkOrderBtnCon bg-white text-right m-t-10 m-b-10 padding-r-10 padding-t-10"">
				<button class="button button-stable bg-gray color-white" ng-click="cancel()" ng-if="(order.order_info.status == 1 || order.order_info.status == 11) && cancelButtonShow">申请退款
				</button>
				<button class="button button-assertive" ng-click="pay()" ng-if="payButtonShow && order.order_info.status == 0">立即支付
				</button>

				<button class="button button-assertive" ng-click="over()" ng-if="overButtonShow && order.order_info.status == 11">结束
				</button>
				<button class="button button-positive" ng-click="delayed()" ng-if="delayedButtonShow && (order.order_info.status == 1 || order.order_info.status == 11)">延时
				</button>
				
				
			</div>
		</div>

	</ion-content>
</ion-view>
