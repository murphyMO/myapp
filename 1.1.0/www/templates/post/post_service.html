<ion-view view-title="发布服务" ng-controller="PostServiceController">
	<ion-header-bar align-title="center" class="bar bar-header bar-dark">
		<div class="item-input-inset color-white" ng-click="myGoBack()">
			<span>
				<i class="ion-chevron-left"></i>
			</span>
		</div>
		<h1 class="title fontsize-16 color-black">发布服务</h1>
		<div class="buttons">
			<div class="item-input-inset">
				<a class="color-white" on-tap="postSerivce()">发布</a>
			</div>
		</div>
	</ion-header-bar>
	<form name="postProductForm">
		<ion-content class="has-header bg-dark">
			<div class="list">
				<label class="item item-input m-t-15">
					<textarea class="customer-textarea" ng-model="article.title" rows="1" placeholder="整个主题呗...(必填)" required></textarea>
				</label>
				<label class="item item-input m-t-15">
					<textarea class="customer-textarea" ng-model="article.content" rows="5" placeholder="说点啥呗...(必填)" required></textarea>
				</label>
				<ion-gallery ion-gallery-items="article.imgs" ion-gallery-item-edit="true"></ion-gallery>
				<!-- <div class="item item-icon-left customer-height-54"><i class="icon ion-ios-camera-outline" ng-click="getPic()"></i></div> -->
				<div class="item item-icon-left customer-height-54"><upload-image upload-images="article.imgs" camera-options="cameraOptions"></upload-image></div>

				<a class="item item-icon-right" ng-click="goSelectProductType()">
					服务类型<em class="xkd-text-danger">*</em>
					<span class="item-note">
						<span style="margin-right:10px" ng-bind-html="article.productType.text"></span>
						<i class="icon ion-ios-arrow-right"></i>
					</span>	
				</a>
				<a class="item item-icon-right" ng-click="goSelectProductArea()">
					服务范围<em class="xkd-text-danger">*</em>
					<span class="item-note">
						<span style="margin-right:10px" ng-bind-html="article.productArea.label"></span>
						<i class="icon ion-ios-arrow-right"></i>
					</span>
				</a>
				<!-- <div ng-if="article.material" class="item item-divider">引文</div>
				<a class="item item-icon-right" ng-if="!article.material" ng-click="goSelectMaterial()">
					选择引文
					<span class="item-note" >
						<i class="icon ion-ios-plus" ></i>
					</span>
				</a>
				<div class="item item-thumbnail-left item-icon-right" ng-model="article.material" ng-if="article.material">
					<img ng-src="{{article.material.material_thumb}}" err-src="img/icon_empty_img.png">
					<h2>{{article.material.material_title}}</h2>
					<p>{{article.material.material_abstract}}</p>
					<label class="icon item-note" ng-click="goSelectMaterial()">
						<i class="icon ion-edit" ></i>
					</label>
				</div> -->
				<a class="item item-icon-right" ng-click="goSelectBusinessLabel()">
					
					行业标签<em class="xkd-text-danger">*</em>
					<span class="item-note">
						<i class="icon ion-ios-arrow-right"></i>
					</span>	
					<span ng-show="article.businesslabels" style="display:block;word-wrap:break-word;white-space:normal">
						<button ng-repeat="labelitem in article.businesslabels" class="button button-small button-calm" style="margin-left:5px;margin-top:5px">{{labelitem.business_label_des}}
						</button>
					</span>
				</a>

				<!-- <label class="item item-input m-t-15 item-select">
					<div class="input-label">
						发布类型<em class="xkd-text-danger">*</em>
					</div>
					<select ng-model="article.post_level">
						<option value="1">个人发布</option>
						<option value="2">公司发布</option>
					</select>
				</label> -->

				<label class="item item-input">
					<div class="input-label">
						价格<em class="xkd-text-danger">*</em>
					</div>
					<input class="text-right item-note" type="number" value="" min="0" ng-model="article.price" />
				</label>

				<label class="item item-input">
					<div class="input-label">
						单位<em class="xkd-text-danger">*</em>
					</div>
					<input class="text-right" type="text" value="" ng-model="article.unit"></input>
				</label>

				<a class="item item-icon-right" on-tap="selectBelongStore()">
					归属门店<em class="xkd-text-danger">*</em>
					<span class="item-note">{{article.belongStore.name}}</span><i class="icon item-note ion-ios-arrow-right"></i>
				</a>


				<!-- 与城市选择公用一套模板，没有改名字 比如select-city-modal -->
				<script id="select-city-modal.html" type="text/ng-template">
					<ion-modal-view class="xkd-select-city-modal">
						<ion-header-bar>
							<p class="title">选择岛</p>
							<div class="buttons">
								<div class="item-input-inset" on-tap="closeSelectCityModal()">
									<a><i class="ion-close"></i></a>
								</div>
							</div>
						</ion-header-bar>
						<div class="xkd-select-city-modal-container">
							<div class="row b-b padding-b-none has-header">
								<ul class="selected-city">
									<li ng-repeat="item in selectedItems" on-tap="clickLi(item)" ng-class="{'clicked' : item.clicked}">
										{{item.name}}
									</li>
									
								</ul>
							</div>
							<div class="selected-city-content">
								<ion-scroll direction="y" style="height:200px" delegate-handle="selectCityScroll">
									<div style="height:100%">
										<div class="list">
											<a ng-repeat="item in selectItems" class="item" on-tap="selectItem(item)" ng-class="{'clicked' : item.clicked}">{{item.name}}<i class="ion-checkmark m-l-15" ng-show="item.clicked"></i></a>
										</div>
									</div>
								</ion-scroll>
							</div>
						</div>
						
					</ion-modal-view>
				</script>

			</div>

		</ion-content>
	</form>
</ion-view>